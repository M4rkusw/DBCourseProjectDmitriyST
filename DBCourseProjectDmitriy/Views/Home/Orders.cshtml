@{
	ViewData["Title"] = "Заказы";
}

<div>
	<h2>Заказы</h2>
	<table width="100%" class="table table-striped table-hover table-bordered">
		<thead>
			<tr class="head">
				<th scope="col">Id</th>
				<th scope="col">Сумма заказа</th>
				<th scope="col">Договор с</th>
				<th scope="col">Статус заказа</th>
			</tr>
		</thead>
		<tbody></tbody>
	</table>
	<div width="100%" class="buttons">
		<button id="pay" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#payMoadl" disabled>Оплатить заказ</button>
		<button id="info" type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#infoMoadl" disabled>Информация о заказе</button>
		<button id="delete" type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal" disabled>Удалить заказ</button>
	</div>
	<div id="payMoadl" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="payLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Оплата заказа</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
				</div>
				<div class="modal-body">
					<p>
						Вы точно хотите оплатить заказ товар?
					</p>
				</div>
				<div class="modal-footer">
					<button id="payBtn" type="button" class="btn btn-primary" data-bs-dismiss="modal">Оплатить</button>
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
				</div>
			</div>
		</div>
	</div>
	<div id="infoMoadl" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="infoLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Информация о заказе</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
				</div>
				<div class="modal-body">
					<p id="contractOwnerName"></p>
					<p id="sumOrder">Сумма заказа: </p>
					<p id="paymentStatOrder">Статус заказа: </p>
					<table width="100%" class="table table-striped table-hover table-bordered">
						<thead>
							<tr class="head">
								<th scope="col">Id</th>
								<th scope="col">Название</th>
								<th scope="col">Цена</th>
								<th scope="col">Тип</th>
								<th scope="col">Количество</th>
							</tr>
						</thead>
						<tbody id="infoTable"></tbody>
					</table>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-bs-dismiss="modal">ОК</button>
				</div>
			</div>
		</div>
	</div>
	<div id="deleteModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Удалить заказ</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
				</div>
				<div class="modal-body">
					<p>
						Вы точно хотите удалить заказ?
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Отмена</button>
					<button id="deleteBtn" type="button" class="btn btn-danger" data-bs-dismiss="modal">Удалить</button>
				</div>
			</div>
		</div>
	</div>
	<div id="errorInfoModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Оплата не удалась</h5>
				</div>
				<div class="modal-body">
					<p>
						Товаров на складе не хватает для продажи
					</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-bs-dismiss="modal">ОК</button>
				</div>
			</div>
		</div>
	</div>
	<div width="100%" class="buttons">
		<button id="unload" name="purchaseOrder" type="button" class="btn btn-success">Выгрузть неоплаченные заказы в Excel</button>
	</div>
	<div id="unloadInfoModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="unloadInfoModal" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Неоплаченные заказы выгружены</h5>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary" data-bs-dismiss="modal">ОК</button>
				</div>
			</div>
		</div>
	</div>
</div>

<script src="~/js/orders.js" asp-append-version="true"></script>
